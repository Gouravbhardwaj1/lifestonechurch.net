{"version":3,"sources":["webpack:///./src/templates/sermon.js","webpack:///./src/components/headers.js","webpack:///./src/components/Breadcrumbs.js","webpack:///./src/utils/formatDate.js"],"names":["Audio","styled","target","__webpack_exports__","_ref","sermon","data","contentfulSermon","react__WEBPACK_IMPORTED_MODULE_2___default","a","createElement","_components_layout__WEBPACK_IMPORTED_MODULE_4__","_components_Breadcrumbs__WEBPACK_IMPORTED_MODULE_6__","path","title","url","_components_headers__WEBPACK_IMPORTED_MODULE_5__","formatDate","date","speaker","map","s","key","id","name","mainScripture","controls","src","audioUrl","fields","notesFormatted","dangerouslySetInnerHTML","__html","query","__webpack_require__","d","H1","H2","H3","H4","react__WEBPACK_IMPORTED_MODULE_0__","react__WEBPACK_IMPORTED_MODULE_0___default","n","slug","require","children","lower","_ref2","_ref3","_ref4","Container","Breadcrumbs","react__WEBPACK_IMPORTED_MODULE_1___default","item","i","gatsby__WEBPACK_IMPORTED_MODULE_2__","to","propTypes","PropTypes","arrayOf","shape","string","isRequired","longFormatDate","DateTime","fromISO","toLocaleString","DATE_FULL","shortFormatDate","toFormat","getDayOfWeek","getFirstStartDate","dates","reduce","firstDate","current","Date","startDate","getLastEndDate","lastDate","endDate","getFutureEvents","events","q","m","getMonth","getDate","y","getFullYear","today","filter","node","fromFormat","toJSDate","dateAndRegistration","Object","assign","sort","b","getCalendarFormat","time","inputDate","toISO","split","replace","getCalendarURl","startTime","endTime"],"mappings":"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","file":"component---src-templates-sermon-js-7864ac5defafaac8341b.js","sourcesContent":["import React from 'react';\nimport styled from 'react-emotion';\nimport { graphql } from 'gatsby';\n\nimport Layout from '../components/layout';\nimport { H1, H2 } from '../components/headers';\nimport Breadcrumbs from '../components/Breadcrumbs';\nimport formatDate from '../utils/formatDate';\n\n// TODO: use OtherStuff on page\n// const OtherStuff = ({ data }) => {\n//   const sermon = data.contentfulSermon;\n//   return (\n//     <div>\n//       {sermon.speaker.map(\n//         s => s.photo && s.photo.file && <img src={s.photo.file.url} />\n//       )}\n//       <div>{sermon.audioDuration}</div>\n//       <div>{sermon.sermonSeries && sermon.sermonSeries.name}</div>\n//       <img\n//         src={\n//           sermon.sermonSeries &&\n//           sermon.sermonSeries.image &&\n//           sermon.sermonSeries.image.file.url\n//         }\n//       />\n//     </div>\n//   );\n// };\n\nconst Audio = styled.audio`\n  width: 100%;\n  margin: 40px 0;\n`;\n\nexport default ({ data }) => {\n  const sermon = data.contentfulSermon;\n\n  return (\n    <Layout>\n      <Breadcrumbs\n        path={[\n          { title: 'Home', url: '/' },\n          { title: 'Resources', url: '/resources' },\n          { title: 'Sermons' },\n        ]}\n        title={sermon.title}\n      />\n      <H1>{sermon.title}</H1>\n\n      <div>{formatDate(sermon.date)}</div>\n      <div>{sermon.speaker.map(s => <span key={s.id}>{s.name}</span>)}</div>\n      <div>{sermon.mainScripture}</div>\n      <Audio controls src={sermon.audioUrl} />\n      {sermon.fields.notesFormatted && (\n        <div>\n          <H2>Sermon Notes</H2>\n          <div\n            dangerouslySetInnerHTML={{\n              __html: sermon.fields.notesFormatted,\n            }}\n          />\n        </div>\n      )}\n    </Layout>\n  );\n};\n\nexport const query = graphql`\n  query SermonTemplateQuery($id: String!) {\n    contentfulSermon(id: { eq: $id }) {\n      title\n      date\n      audioUrl\n      audioDuration\n      sermonSeries {\n        name\n        image {\n          title\n          file {\n            url\n          }\n        }\n      }\n      speaker {\n        id\n        name\n        photo {\n          file {\n            url\n          }\n        }\n      }\n      mainScripture\n      fields {\n        notesFormatted\n      }\n    }\n  }\n`;\n","import React from 'react';\nconst slug = require(`slug`);\n\nexport const H1 = ({ children }) => (\n  <h1 id={slug(children, { lower: true })}>{children}</h1>\n);\n\nexport const H2 = ({ children }) => (\n  <h2 id={slug(children, { lower: true })}>{children}</h2>\n);\n\nexport const H3 = ({ children }) => (\n  <h3 id={slug(children, { lower: true })}>{children}</h3>\n);\nexport const H4 = ({ children }) => (\n  <h4 id={slug(children, { lower: true })}>{children}</h4>\n);\nexport const H5 = ({ children }) => (\n  <h5 id={slug(children, { lower: true })}>{children}</h5>\n);\nexport const H6 = ({ children }) => (\n  <h6 id={slug(children, { lower: true })}>{children}</h6>\n);\n","import React from 'react';\nimport { Link } from 'gatsby';\nimport PropTypes from 'prop-types';\nimport styled from 'react-emotion';\n\nconst Container = styled.div`\n  margin-top: 16px;\n`;\n\nconst Breadcrumbs = ({ path, title }) => {\n  return (\n    <Container>\n      {path.map((item, i) => (\n        <span key={i}>\n          {item.url ? <Link to={item.url}>{item.title}</Link> : `${item.title}`}{' '}\n          â€º{' '}\n        </span>\n      ))}\n      <span>{title}</span>\n    </Container>\n  );\n};\n\nBreadcrumbs.propTypes = {\n  path: PropTypes.arrayOf(\n    PropTypes.shape({\n      title: PropTypes.string.isRequired,\n      url: PropTypes.string,\n    })\n  ),\n  title: PropTypes.string.isRequired,\n};\n\nexport default Breadcrumbs;\n","import { DateTime } from 'luxon';\n\nexport const formatDate = date => DateTime.fromISO(date).toLocaleString();\n\nexport const longFormatDate = date =>\n  DateTime.fromISO(date).toLocaleString(DateTime.DATE_FULL);\n\nexport const shortFormatDate = date => DateTime.fromISO(date).toFormat('LLL d');\n\nexport const getMonthNumber = date =>\n  Number(DateTime.fromISO(date).toFormat('L'));\n\nexport const getMonthName = date => DateTime.fromISO(date).toFormat('LLLL');\n\nexport const getDayOfWeek = date => DateTime.fromISO(date).toFormat('cccc');\n\nexport const getFirstStartDate = dates =>\n  dates.reduce(\n    (firstDate, current) =>\n      !firstDate\n        ? current.startDate\n        : new Date(current.startDate) < new Date(firstDate)\n          ? current.startDate\n          : firstDate,\n    null\n  );\n\nexport const getLastEndDate = dates =>\n  dates.reduce(\n    (lastDate, current) =>\n      !lastDate\n        ? current.endDate\n        : new Date(current.endDate) > new Date(lastDate)\n          ? current.endDate\n          : lastDate,\n    null\n  );\n\nexport const getFutureEvents = events => {\n  const q = new Date();\n  const m = q.getMonth();\n  const d = q.getDate();\n  const y = q.getFullYear();\n\n  const today = new Date(y, m, d);\n\n  return events\n    .filter(\n      ({ node }) =>\n        node.endDate\n          ? DateTime.fromFormat(node.endDate, 'yyyy-LL-dd').toJSDate() >= today\n          : node.startDate\n            ? DateTime.fromFormat(node.startDate, 'yyyy-LL-dd').toJSDate() >=\n              today\n            : node.dateAndRegistration &&\n              DateTime.fromFormat(\n                getLastEndDate(node.dateAndRegistration),\n                'yyyy-LL-dd'\n              ).toJSDate() >= today\n    )\n    .map(({ node }) => ({\n      ...node,\n      startDate: node.startDate || getFirstStartDate(node.dateAndRegistration),\n      slug: node.fields.slug,\n    }))\n    .sort((a, b) => new Date(a.startDate) > new Date(b.startDate));\n};\n\nexport const getCalendarFormat = (date, time) => {\n  if (time) {\n    const formatDate = !time ? 'yyyy-MM-dd' : 'yyyy-MM-dd h:mma';\n    const inputDate = !time ? date : `${date} ${time}`;\n    const isoFormat = DateTime.fromFormat(inputDate, formatDate).toISO();\n    return isoFormat.split('.')[0].replace(/:|-/g, '');\n  } else {\n    return DateTime.fromISO(date).toFormat('yyyyMMdd');\n  }\n};\n\nexport const getCalendarURl = (\n  startDate,\n  endDate,\n  startTime,\n  endTime,\n  name\n) => {\n  let dateStart;\n  let dateEnd;\n\n  if (startTime) {\n    dateStart = getCalendarFormat(startDate, startTime);\n  } else {\n    dateStart = getCalendarFormat(startDate, null);\n  }\n  if (endTime) {\n    dateEnd =\n      !endTime && startTime\n        ? getCalendarFormat(endDate || startDate, startTime)\n        : getCalendarFormat(endDate || startDate, endTime);\n  } else {\n    dateEnd = getCalendarFormat(endDate || startDate, null);\n  }\n\n  return `http://www.google.com/calendar/event?action=TEMPLATE&text=${name}&dates=${dateStart}/${dateEnd}`;\n};\n\nexport default formatDate;\n"],"sourceRoot":""}